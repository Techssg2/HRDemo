<div class="portlet box bg-grey bg-font-grey fx-portlet">
  <div class="portlet-title">
    <div class="caption">
      <span class="caption-subject hr-process uppercase f-collapse"
        >{{'TRAINING_REQUEST_TRAINING_DETAIL'|translate}}</span
      >
    </div>
  </div>
</div>
<div class="page-content-wrapper float-none">
  <div class="page-content">
    <div class="form-horizontal">
      <div class="form-body">
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_TYPE_OFF_TRAINING'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-8">
                <select
                  name="Type Of Training"
                  kendo-drop-down-list
                  k-data-source="typeofTrainingOptions"
                  data-k-ng-model="trainingDetails.typeOfTraining"
                  k-data-text-field="'text'"
                  k-data-value-field="'value'"
                  class="w100"
                  k-value-primitive="'false'"
                  k-template="'<span><label>#: data.text# </label></span>'"
                  k-on-change="handleChangeCategory(kendoEvent)"
                  ng-disabled="!isEditable"
                ></select>
              </div>
            </div>
          </div>
          <div class="col-md-8">
            <div class="form-group">
              <!-- <label class="col-md-2 control-label"
                >Existing Course:
                <span class="font-red-thunderbird">*</span>
              </label> -->
              <div class="col-md-8">
                <div class="col-md-3">
                  <input
                    type="radio"
                    name="existingCourse"
                    id="existingCourse"
                    class="k-radio"
                    ng-model="trainingDetails.existingCourse"
                    value="Existing Course"
                    ng-disabled="!isEditable"
                  />
                  <label
                    style="color: #9b9b9b"
                    class="k-radio-label"
                    for="existingCourse"
                    >{{'TRAINING_REQUEST_EXITING_COURSE'|translate}}</label
                  >
                </div>
                <div class="col-md-3">
                  <input
                    type="radio"
                    name="existingCourse"
                    id="requestNewCourse"
                    class="k-radio"
                    ng-model="trainingDetails.existingCourse"
                    value="Request New Course"
                    ng-disabled="trainingDetails.typeOfTraining=='Internal' || !isEditable"
                    ng-change='handleChangeCategory(null, "Request New Course")'
                  />
                  <label
                    style="color: #9b9b9b"
                    class="k-radio-label"
                    for="requestNewCourse"
                    >{{'TRAINING_REQUEST_REQUEST_NEW_COURSE'|translate}}</label
                  >
                </div>
              </div>
              <!-- <div class="col-md-4">
                
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- //internal -->
  <div
    class="page-content"
    ng-If="trainingDetails.existingCourse=='Existing Course' "
  >
    <div class="form-horizontal">
      <div class="form-body">
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_COURSE_CATEGORY'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-8">
                <select
                  name="Course Category"
                  kendo-drop-down-list
                  style="width: 100%"
                  data-k-ng-model="trainingDetails.categoryId"
                  k-data-text-field="'name'"
                  k-data-value-field="'id'"
                  k-filter="'contains'"
                  k-value-primitive="'false'"
                  k-valueTemplate="'#: name #'"
                  k-template="'<span><label>#: data.name# </label></span>'"
                  k-auto-bind="'true'"
                  k-data-source="categoryObj"
                  k-on-change="handleChangeCategory(kendoEvent)"
                  ng-disabled="!isEditable"
                ></select>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_COURSE_NAME'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-8">
                <select
                  name="Course Name"
                  kendo-drop-down-list
                  style="width: 100%"
                  data-k-ng-model="trainingDetails.courseId"
                  k-data-text-field="'name'"
                  k-data-value-field="'id'"
                  k-filter="'contains'"
                  k-value-primitive="'false'"
                  k-valueTemplate="'#: name #'"
                  k-template="'<span><label>#: data.name# </label></span>'"
                  k-auto-bind="'true'"
                  k-data-source="courseObj"
                  k-on-change="handleChangeCategory(kendoEvent)"
                  ng-disabled="!isEditable || !isCategorySelected"
                ></select>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_SUPPLIER_NAME'|translate}}:
              </label>
              <div class="col-md-8">
                <input
                  type="text"
                  name=""
                  class="k-textbox form-control input-sm"
                  ng-model="trainingDetails.supplierName"
                  style="width: 100%"
                  disabled="trainingDetails.existingCourse=='Existing Course' || !isEditable"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
              <label class="col-md-2 control-label">
                {{'TRAINING_REQUEST_REASON_TRAINING_REQUEST'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-10">
                <select
                  name="Reason Of Training Request"
                  kendo-drop-down-list
                  style="width: 100%"
                  data-k-ng-model="trainingDetails.reasonOfTrainingRequest"
                  k-data-text-field="'value'"
                  k-data-value-field="'id'"
                  k-filter="'contains'"
                  k-value-primitive="'false'"
                  k-valueTemplate="'#: value #'"
                  k-template="'<span><label>#: data.value# </label></span>'"
                  k-auto-bind="'true'"
                  k-data-source="trainingReasons"
                  ng-disabled="!isEditable"
                ></select>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label">
                {{'TRAINING_REQUEST_TRAINING_REE'|translate}}:
              </label>
              <div class="col-md-6">
                <input
                  kendo-numeric-text-box
                  k-format="'#,0'"
                  data-role="numerictextbox"
                  aria-valuemin="1"
                  aria-valuemax="3"
                  class="w100"
                  ng-model="trainingDetails.trainingFee"
                  ng-disabled="!isEditable"
                  maxlength="13"
                  min="0"
                  k-on-change="onReimbursementChange(kendoEvent)"
                />
              </div>
              <div class="col-md-2 text-label">VND</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- extenal -->
  <div
    class="page-content"
    ng-If="trainingDetails.existingCourse=='Request New Course' "
  >
    <div class="form-horizontal">
      <div class="form-body">
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_COURSE_NAME'|translate}}:
                <span class="font-red-thunderbird">*</span></label
              >
              <div class="col-md-8">
                <input
                  type="text"
                  name="CourseName"
                  class="k-textbox form-control input-sm"
                  ng-model="trainingDetails.courseName"
                  style="width: 100%"
                  ng-disabled="!isEditable"
                  maxlength="50"
                />
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label"
                >{{'TRAINING_REQUEST_SUPPLIER_NAME'|translate}}:
              </label>
              <div class="col-md-8">
                <select
                  name="Supplier Name"
                  kendo-drop-down-list
                  k-data-source="supplierOptions"
                  data-k-ng-model="trainingDetails.supplierName"
                  k-data-text-field="'name'"
                  k-data-value-field="'name'"
                  class="w100"
                  k-value-primitive="'false'"
                  k-filter="'contains'"
                  k-template="'<span><label>#: data.name# </label></span>'"
                  ng-disabled="!isEditable"
                ></select>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="col-md-4 control-label">
                {{'TRAINING_REQUEST_TRAINING_REE'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-6">
                <input
                  kendo-numeric-text-box
                  k-format="'#,0'"
                  data-role="numerictextbox"
                  name="Training Fee"
                  aria-valuemin="1"
                  aria-valuemax="3"
                  class="w100"
                  ng-model="trainingDetails.trainingFee"
                  ng-disabled="!isEditable"
                  maxlength="13"
                  min="0"
                  k-on-change="onReimbursementChange(kendoEvent)"
                />
              </div>
              <div class="col-md-2 text-label">VND</div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
              <label class="col-md-2 control-label">
                {{'TRAINING_REQUEST_REASON_TRAINING_REQUEST'|translate}}:
                <span class="font-red-thunderbird">*</span>
              </label>
              <div class="col-md-10">
                <select
                  name="Reason Of TrainingRequest"
                  kendo-drop-down-list
                  style="width: 100%"
                  data-k-ng-model="trainingDetails.reasonOfTrainingRequest"
                  k-data-text-field="'value'"
                  k-data-value-field="'id'"
                  k-filter="'contains'"
                  k-value-primitive="'false'"
                  k-valueTemplate="'#: value #'"
                  k-template="'<span><label>#: data.value# </label></span>'"
                  k-auto-bind="'true'"
                  k-data-source="trainingReasons"
                  ng-disabled="!isEditable"
                ></select>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
              <label class="col-md-2 control-label"
                >{{'TRAINING_REQUEST_ORTHER_DETAIL'| translate}}:</label
              >
              <div class="col-md-10">
                <input
                  name="files"
                  id="attachmentDetail"
                  type="file"
                  kendo-upload
                  k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }"
                  k-select="onSelectTrainingDetails"
                  k-remove="removeAttach"
                  class="input-default"
                  ng-disabled="!isEditable"
                />
              </div>
              <div class="col-md-6">
                <label
                  class="col-md-4 control-label"
                  ng-if="oldAttachmentDetails && oldAttachmentDetails.length"
                ></label>
                <div
                  class="col-md-8"
                  style="margin-top: 10px; padding-left: 30px"
                  ng-if="oldAttachmentDetails && oldAttachmentDetails.length"
                >
                  <p><b>{{'UPLOADED_FILE_LIST'| translate}}</b></p>
                  <ol>
                    <li ng-repeat="doc in oldAttachmentDetails">
                      <span>
                        <a ng-click="viewFileOnline(doc)">{{doc.fileName}}</a>
                      </span>
                      <span
                        ng-click="removeOldAttach(doc)"
                        class="deleteattachmentDetail"
                        style="color: #5b9bd1; cursor: pointer"
                        >| {{'COMMON_BUTTON_DELETE'| translate}}
                      </span>
                      <span
                        ng-click="dowloadAttachment(doc)"
                        class="deleteattachmentDetail"
                        style="color: #5b9bd1; cursor: pointer"
                        >| {{'COMMON_BUTTON_DOWLOAD'| translate}}
                      </span>
                    </li>
                  </ol>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
