<style>
    .k-loading-mask {
        z-index: 3;
        /* must be larger than the z-index:2 of #container */
    }

    .k-dialog {
        position: fixed;
        top: calc(25%) !important;
    }

    #userGridReview .k-auto-scrollable {
        max-height: 300px;
        min-height: 0px;
    }

    #userGrid .k-auto-scrollable {
        max-height: 300px;
        min-height: 0px;
    }

    #userGrid .k-loading-image {
        background-image: none !important;
    }

    #userGrid .k-loading-color {
        opacity: 0;
    }

    .k-grid-content {
        min-height: 0px !important;
        max-height: 500px !important;
    }

    .k-grid-content-locked {
        overflow: hidden !important;
        min-height: 50px !important;
    }

    tr.separate td {
        border-bottom: 1px solid #dedbdb !important;
    }

    .table-cell {
        border: 1px solid #dedbdb !important;
    }

    .k-grid-header th {
        border-bottom: 1px solid #000000; /* Adds a border between header and table cells */
        border-right: 1px solid #000000; /* Adds a border between header columns */
    }

    .k-grid-header-wrap.sync-collapse {
        width: calc(100% - 480px) !important;
    }

    .k-grid-content.sync-collapse {
        width: calc(100% - 480px) !important;
    }
</style>
<div id="loading"></div>
<div class="p-3">
    <div class="row title-wrapper stickybar-1">
        <div class="col-6">
            <h2 class="widget-title">{{titleHeader}}</h2>
        </div>
        <div class="col-6">
            <div class="d-flex gap-2 flex-wrap justify-content-end">
                <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                        ng-click="cancelPropress()"
                        ng-if="!visibleSendData && !visibleSubmitData && buttonCancel">
                    <i class="fa fa-xmark" style="color: rgba(255,0,0,0.7)"></i>&nbsp;{{'COMMON_BUTTON_CANCEL'|translate}}
                </button>

                <!-- Nút Send Data -->
                <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                        ng-click="save(true)"
                        ng-if="visibleSendData && !visibleSubmitData">
                    <i class="fa fa-paper-plane" style="--fa-rotate-angle: -45deg; color: #18aa7e;"></i>&nbsp;{{'COMMON_BUTTON_SEND_DATA'|translate}}
                </button>

                <!-- Nút Submit -->
                <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                        ng-click="submit()"
                        ng-if="visibleSubmitData">
                    <i class="fa fa-paper-plane" style="--fa-rotate-angle: -45deg; color: #18aa7e;"></i>&nbsp;{{'COMMON_BUTTON_SUBMIT'|translate}}
                </button>

                <!-- Nút Save -->
                <button type="button"
                        ng-click="save()"
                        ng-if="visibleSendData || visibleSubmitData"
                        class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1">
                    <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><path fill="#18aa7e" fill-rule="evenodd" d="M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-.293-.707l-4-4A1 1 0 0 0 16 3H4zm6 11c0-1.6 1.333-2 2-2s2 .4 2 2-1.333 2-2 2-2-.4-2-2zm4-9H8v3h6V5z" clip-rule="evenodd" /></svg>
                    &nbsp;{{'COMMON_BUTTON_SAVE'|translate}}
                </button>

                <button type="button"
                        ng-click="cancel()"
                        class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1">
                    <i class="fa fa-xmark" style="color: #18aa7e;"></i> &nbsp;{{'COMMON_BUTTON_CLOSE'|translate}}
                </button>

                <button type="button"
                        ng-click="import()"
                        ng-if="visibleSendData || visibleSubmitData"
                        class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1">
                    <svg width="20" height="20" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke="#079c6f">
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Combined-Shape" fill="#079c6f" transform="translate(42.666667, 85.333333)">
                                <path d="M405.333333,-1.42108547e-14 L405.333333,362.666667 L21.3333333,362.666667 L21.3333333,85.3333333 L64,85.3333333 L64,320 L362.666667,320 L362.666667,42.6666667 L277.333333,42.6666667 L277.333333,-1.42108547e-14 L405.333333,-1.42108547e-14 Z M128,-1.42108547e-14 C185.3601,-1.42108547e-14 232.145453,45.2758765 234.568117,102.039688 L234.666667,106.666667 L234.666,183.152 L283.581722,134.248389 L313.751611,164.418278 L213.333333,264.836556 L112.915055,164.418278 L143.084945,134.248389 L192,183.152 L192,106.666667 C192,72.5828078 165.356374,44.7219012 131.760486,42.7753108 L128,42.6666667 L7.10542736e-15,42.6666667 L7.10542736e-15,-1.42108547e-14 L128,-1.42108547e-14 Z">

                                </path>
                            </g>
                        </g>
                    </svg>&nbsp;{{'COMMON_BUTTON_IMPORT'|translate}}
                </button>
            </div>
        </div>
    </div>
    <div class="portlet-body mb-3">
        <div class="mt-3">
            <div class="accordion accordion-style1">
                <div class="accordion-item">
                    <div class="accordion-collapse collapse show">
                        <div class="portlet bordered light">
                            <!-- Title -->
                            <div class="row p-3">
                                <div class="col-6">
                                    <div class="row">
                                        <div class="col-4 name-wrapper" style="word-wrap: break-word;">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="16" height="16" viewBox="0 0 24 24">
                                                <path d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM6 8a6 6 0 1 1 12 0A6 6 0 0 1 6 8zm2 10a3 3 0 0 0-3 3 1 1 0 1 1-2 0 5 5 0 0 1 5-5h8a5 5 0 0 1 5 5 1 1 0 1 1-2 0 3 3 0 0 0-3-3H8z" fill="#0D0D0D"></path>
                                            </svg>&nbsp;{{ createdByFullName }} <!--({{ model.employeeCode }})-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <!--<div class="row ng-scope" style="padding: 15px 0;margin-bottom:15px">
                                    <div class="col-sm-12">
                                        <workflow-comment></workflow-comment>
                                    </div>
                                </div>-->
                                <div class="alert alert-danger-style1 mb-3" role="alert" ng-if="errors.length > 0">
                                    <div class="col-sm-12">
                                        <div class="note note-danger note-bordered" style="margin-bottom: 0px">
                                            <ul>
                                                <li style="word-wrap: break-word;" ng-repeat="error in errors track by $index">
                                                    <span class="bold ">{{error.controlName}} </span>{{error.message?error.message: ''}}
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-3">
                                    <div class="accordion accordion-style1">
                                        <div class="accordion-item">
                                            <div class="accordion-collapse collapse show">
                                                <div class="accordion-body">
                                                    <div class="row mb-3">
                                                        <div class="col">
                                                            <div class="form-group">
                                                                <label class="form-label text-secondary">{{'COMMON_DEPT_LINE'|translate}}:</label>
                                                                <select kendo-drop-down-list name="dept_line_name" id="dept_line_id"
                                                                        k-options="deptLineOptions" k-ng-model="model.deptId"
                                                                        style="width: 100%;">
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <div class="form-group">
                                                                <label class="form-label text-secondary">{{'COMMON_DIVISION_GROUP'|translate}}:</label>
                                                                <input kendo-drop-down-tree="divisionTree" class="w100"
                                                                       name="division_name"
                                                                       k-on-change="onChangeDivision(model.divisionId)"
                                                                       k-options="divisionOptions" k-ng-model="model.divisionId"
                                                                       id="division_id"
                                                                       style="width: 100%;">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row mb-3">
                                                        <div class="col">
                                                            <div class="form-group">
                                                                <label class="form-label text-secondary">{{'SHIFT_PLAN_PERIOD'|translate}}:</label>
                                                                <select id="period_source_id" kendo-drop-down-list
                                                                        k-options="targetPlans" style="width: 100%;"
                                                                        name="period_source_name" k-ng-model="model.periodId"></select>
                                                            </div>
                                                        </div>
                                                        <div class="col d-flex justify-content-center align-items-center">
                                                            <div class="form-group">
                                                                <div class="d-flex gap-4">
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="radio" name="engine" id="all" ng-model="checkStatus.value" ng-value="'all'" ng-change="onCheckStatus()" checked="checked">
                                                                        <label class="form-check-label" for="all">{{'TARGET_PLAN_ALL'|translate}}</label>
                                                                    </div>
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="radio" name="engine" id="have" ng-model="checkStatus.value" ng-value="'isHave'" ng-change="onCheckStatus()">
                                                                        <label class="form-check-label" for="have">{{'TARGET_PLAN_HAVE_MADE'|translate}}</label>
                                                                    </div>
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="radio" name="engine" id="notHave" ng-model="checkStatus.value" ng-value="'isNotHave'" ng-change="onCheckStatus()">
                                                                        <label class="form-check-label" for="notHave">{{'TARGET_PLAN_HAVE_NOT_MADE'|translate}}</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <label class="form-label text-secondary">{{'TARGET_PLAN_NOTE_ALERT'|translate}}:</label>
                                                            </br><img kendo-tooltip k-content="colorContent" k-position="'right'"
                                                                      k-width="'400px'" class="img-circle"
                                                                      src="ClientApp/assets/images/icon/color-picker-icon.png" style="height:22.5px;">
                                                        </div>
                                                    </div>
                                                    <div class="row mrt10">
                                                        <div class="col-md-12">
                                                            <kendo-grid id="grid_user_id" k-options="gridUsers" k-rebind="gridUsers">
                                                            </kendo-grid>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="group poppins-medium text-grey-300">
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="me-2" style="margin-bottom:12px">
                                        <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                                                ng-click="cancelPropress()"
                                                ng-if="!visibleSendData && !visibleSubmitData && buttonCancel">
                                            <i class="fa fa-xmark" style="color: rgba(255,0,0,0.7)"></i>&nbsp;{{'COMMON_BUTTON_CANCEL'|translate}}
                                        </button>

                                        <!-- Nút Send Data -->
                                        <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                                                ng-click="save(true)"
                                                ng-if="visibleSendData && !visibleSubmitData">
                                            <i class="fa fa-paper-plane" style="--fa-rotate-angle: -45deg; color: #18aa7e;"></i>&nbsp;{{'COMMON_BUTTON_SEND_DATA'|translate}}
                                        </button>

                                        <!-- Nút Submit -->
                                        <button type="button" class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1"
                                                ng-click="submit()"
                                                ng-if="visibleSubmitData">
                                            <i class="fa fa-paper-plane" style="--fa-rotate-angle: -45deg; color: #18aa7e;"></i>&nbsp;{{'COMMON_BUTTON_SUBMIT'|translate}}
                                        </button>

                                        <!-- Nút Save -->
                                        <button type="button"
                                                ng-click="save()"
                                                ng-if="visibleSendData || visibleSubmitData"
                                                class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1">
                                            <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><path fill="#18aa7e" fill-rule="evenodd" d="M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-.293-.707l-4-4A1 1 0 0 0 16 3H4zm6 11c0-1.6 1.333-2 2-2s2 .4 2 2-1.333 2-2 2-2-.4-2-2zm4-9H8v3h6V5z" clip-rule="evenodd" /></svg>
                                            &nbsp;{{'COMMON_BUTTON_SAVE'|translate}}
                                        </button>

                                        <button type="button"
                                                ng-click="cancel()"
                                                class="btn btn-outline-dark rounded-3 btn-sm poppins-regular display-9 m-1">
                                            <i class="fa fa-xmark" style="color: #18aa7e;"></i> &nbsp;{{'COMMON_BUTTON_CLOSE'|translate}}
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!-- Content -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="dialog" kendo-dialog="warningDialog" options="warningDialogOpts">
    <div class="note note-danger note-bordered" style="margin-bottom: 0px">
        <span class="font-red-thunderbird">{{'USER_SUBMIT_PERSON_DEPARTMENT_VALIDATE'|translate}}</span>
    </div>
</div>
<div id="dialog-import" kendo-dialog="importDialog" options="importDialogOpts" k-on-open="dialogVisible = true"
     k-on-close="closeImportDialog()">
    <div class="row form-group">
        <div class="col-md-12 form-group">
            <a  href="" ng-click="downloadTemplate()" target="_self">
                <i class="fa fa-download"></i> {{'COMMON_DOWNLOAD_TEMPLATE'|translate}}
            </a>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <any ng-click="onClickSelectFile()">
                    <input name="files" id="attachmentDetail" class="input-default attachmentDetail" accept=".xls,.xlsx" type="file"
                           kendo-upload k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }"
                           k-select="onSelect" k-remove="removeAttach" />
                </any>
            </div>

        </div>

    </div>
    <div class="row form-group">
        <div class="col-md-12" style="text-align:right">
            <button ng-click="sendData()" class="btn btn-sm btn-primary"
                    style="color: white; background-color: #006EFA; float: right">
                {{'COMMON_BUTTON_OK'|translate}}
            </button>
        </div>
    </div>
</div>
<!-- <processing-stage workflow-instances="workflowInstances"></processing-stage> -->