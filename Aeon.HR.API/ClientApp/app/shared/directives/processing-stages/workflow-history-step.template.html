<!--<style>
    .workflow-history-step {
        margin-bottom: 0px !important;
    }

    .workflow-change-step {
        cursor: pointer;
        position: relative;
        right: -160px;
    }

    .workflow-change-step-icon {
        font-size: 20px;
        color: white;
    }
</style>

<div class="workflow-history-step step-status-completed" ng-if="step.rounds && step.rounds.length >0 && ((step.rounds[step.rounds.length-1].voteType==0 &&  step.rounds[step.rounds.length-1].isStepCompleted) ||step.rounds[step.rounds.length-1].voteType == 1)">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Completed">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span style="position:absolute;" class="caption ng-binding">{{step.stepName |translate}}</span>
                <a class="workflow-change-step" ng-if="!flow.isCompleted && isITHelpDesk" ng-click="changeStepWorkflow(step)" data-toggle="tooltip" data-placement="right" title="{{'CHANGE_STEP_WORKFLOW' | translate}}">
                    <i class="workflow-change-step-icon k-icon k-i-arrow-overflow-down"></i>
                </a>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
</div>
<div class="workflow-history-step step-status-rejected" ng-if="step.rounds && step.rounds.length >0 && step.rounds[step.rounds.length-1].voteType == 2">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Rejected">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span class="caption ng-binding">{{step.stepName |translate}}</span>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
</div>
<div class="workflow-history-step step-status-requested-to-change" ng-if="step.rounds && step.rounds.length >0 && step.rounds[step.rounds.length-1].voteType == 3">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Rejected">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span class="caption ng-binding">{{step.stepName |translate}}</span>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
</div>
<div class="workflow-history-step step-status-cancelled" ng-if="step.rounds && step.rounds.length >0 && step.rounds[step.rounds.length-1].voteType == 4">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Cancelled">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span class="caption ng-binding">{{step.stepName |translate}}</span>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
</div>
<div class="workflow-history-step step-status-cancelled" ng-if="step.rounds && step.rounds.length >0 && step.rounds[step.rounds.length-1].voteType == 5">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Out Of Period">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span class="caption ng-binding">{{step.stepName |translate}}</span>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
</div>
<div class="workflow-history-step step-status-in-progress" ng-if="step.rounds && step.rounds.length >0 && step.rounds[step.rounds.length-1].voteType==0 && !step.rounds[step.rounds.length-1].isStepCompleted">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="In Progress">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span style="position:absolute;" class="caption ng-binding">{{step.stepName |translate}}</span>
                <a class="workflow-change-step" ng-if="isBTA&&isITHelpDesk&&step.stepName=='Booking Flight'" ng-click="skipBTA()" data-toggle="tooltip" data-placement="right" title="{{'SkipBTA' | translate}}">
                    <i class="fa fa-forward" style="color:white"></i>
                </a>
            </div>
        </div>
        <workflow-task ng-repeat="round in step.rounds" round="round" directivevalue="directivevalue"></workflow-task>
    </div>
    
</div>
<div class="workflow-history-step step-status-not-started" ng-if="step.rounds && step.rounds.length> 0 && !step.rounds[step.rounds.length-1].id">
    <div class="step-flag-container">
        <div class="step-flag" data-toggle="tooltip" data-placement="right" title="Not Started">
            <span class="caption ng-binding">{{step.stepName |translate}}</span>
        </div>
    </div>
    <div class="all-round-container">
        <div class="step-caption-container">
            <div class="step-caption-background">
                <span class="caption ng-binding">{{step.stepName |translate}}</span>
            </div>
        </div>
        <div class="step-round-container ng-scope">
            <div class="workflow-history-task">
            </div>
        </div>
    </div>
</div>-->

<div>
    <workflow-task ng-repeat="round in step.rounds" flow="flow" round="round" step="step" directivevalue="directivevalue"  on-change-step="changeStepWorkflow(step)"></workflow-task>
    <!--<div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps badge-orange">2</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header badge-orange">
            HOD APPROVAL - CHECKER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    Admin Celadon
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    04/05/2024
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    04/05/2024
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    In Progress
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">3</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            HOD+ APPROVAL - MANAGER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">4</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            DIC CHECKER APPROVAL
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">5</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            ORDERING CHECKING - CHECKER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">6</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            ORDERING CHECKING - MANAGER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">7</div>
            <span class="dashed-line"></span>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            FINANCE CHECKING - CHECKER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex">
        <div class="progresses progresses-style1 vertical">
            <div class="steps">8</div>
        </div>
    </div>
    <div class="card card-style1 col-span-4">
        <div class="card-header">
            FINANCE CHECKING - MANAGER
        </div>
        <div class="card-body d-grid grid-cols-2">
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Assign To:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Start day:
                    </span>
                    -/-
                </div>
                <div class="mt-3">
                    <span class="card-title">
                        Due date:
                    </span>
                    -/-
                </div>
            </div>
            <div class="card-group-style1">
                <div>
                    <span class="card-title">
                        Status:
                    </span>
                    -/-
                </div>
            </div>
        </div>
    </div>-->
</div>

<!-- Dialog change step -->

<div id="dialog" kendo-dialog="dialogChangeStepDialog" options="dialogChangeStepDialogOpts" k-visible="false" ng-show="isITHelpDesk">
    <div class="alert alert-danger-style1 mb-3" style="margin-bottom: 0px" ng-if="!modelChangeStep.isValid">
        <span class="font-red-thunderbird">{{modelChangeStep.errorMessage}}</span>
    </div>
    <label class="control-label">{{'COMMON_COMMENT'|translate}}</label>
    <textarea class="form-control comment-text input-default it-helpdesk" placeholder="" style="width: 100%;" rows="6"
              ng-model="modelChangeStep.comment"></textarea>
    <label class="control-label">{{'Attachment'|translate}}</label>
    <input id="attachmentFieldId" class="k-disabled it-helpdesk" name="files" type="file" kendo-upload k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }" k-select="onSelect" k-remove="removeAttach" />
</div>

<div id="dialog_skipBTA" kendo-dialog="dialogSkipBTADialog" options="dialogSkipBTADialogOpts" k-visible="false" ng-show="isITHelpDesk">
    <div class="alert alert-danger-style1 mb-3" style="margin-bottom: 0px" ng-if="!skipBTA.isValid">
        <span class="font-red-thunderbird">{{skipBTA.errorMessage}}</span>
    </div>
    <label class="control-label">{{'COMMON_COMMENT'|translate}}</label>
    <textarea class="form-control comment-text input-default it-helpdesk" placeholder="" style="width: 100%;" rows="6"
              ng-model="skipBTA.comment"></textarea>
    <label class="control-label">{{'Attachment'|translate}}</label>
    <input id="attachmentFieldId" class="k-disabled it-helpdesk" name="files" type="file" kendo-upload k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }" k-select="onSelect" k-remove="removeAttach" />
</div>
