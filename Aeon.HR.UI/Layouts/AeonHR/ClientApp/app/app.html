<style>
    .k-dialog-title {
        color: #b42e83 !important;
        font-family: Nova-Regular !important;
        font-size: 18px !important;
        font-weight: 700;
        margin: 10px 0;
        margin: 0;
        line-height: 1.42857143;
        text-transform: uppercase !important;
    }

    .k-dialog {
        position: absolute;
        top: 65px !important;
    }

    .confirm-btn {
        margin-top: 10px;
        float: right;

    }

    @media (max-width: 1199px) {

    }
    

    @media (min-width: 1200px) {

        #nav li {
            list-style: none inside;
            display: block;
            position: relative;
            float: left;
        }

        #nav ul {
            position: absolute;
            padding: 0;
            left: 0;
            display: none;
            /* hides sublists */
        }

        /* hides sub-sublists */
        #nav li:hover ul {
            display: block;
            padding: 0px 10px;
            border-radius: 5px !important;
            background-color: #b42e83;
            width: auto;
            margin-left: 210px;
            margin-top: -35px
        }

        #nav_child li {
            list-style: none inside;
            display: contents;
            position: relative;
            /*float: left;*/
        }

        #nav_child ul {
            position: absolute;
            padding: 0;
            left: 0;
            display: none;
            /* hides sublists */
        }

            #nav_child ul.custom-menu {
                left: 4% !important;
            }
        /* hides sub-sublists */
        #nav_child li:hover ul {
            display: block;
            padding: 0px 10px;
            border-radius: 5px !important;
            background-color: #b42e83;
            width: auto;
            margin-left: 190px;
            margin-top: -35px
        }
        .last-child-menu-responsive{
            visibility: hidden
        }
    }
        /* shows sublist on hover */
        /* #nav li li:focus ul {
        display: block;

    } */
</style>

<div class="page-header navbar navbar-fixed-top bg-blue  bg-white">
    <div class="page-header-inner ng-scope">
        <div class="page-header-inner ng-scope">
            <div class="page-logo">
                <div class="menu-toggler sidebar-toggler" title="Toggle left menu"></div>
            </div>
            <a collapse-menu class="menu-toggler responsive-toggler" title="Toggle left menu" data-toggle="collapse"
                data-target="#navbar-collapse" current-class="collapseA" added-class="in"></a>
            <div class="page-top">
                <div style="margin-right:10px;" class="top-menu">
                    <!-- ngIf: vm.currentUser.Id -->
                    <user-info current-user="currentUser" avatar="avatar"></user-info>
                    <!-- end ngIf: vm.currentUser.Id -->
                    <!-- ngIf: vm.currentUser.Id -->
                    <!-- end ngIf: vm.currentUser.Id -->
                    <ul class="nav navbar-nav pull-right">
                        <li class="dropdown list-item-t add-menu" style="padding-right: 0px; padding-left: 0px"
                            excutejq>
                            <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                class="dropdown-toggle">
                                <i class="fa fa-plus-circle add-menu"
                                    style="font-size: 24px !important;margin-top: 6px"></i>
                            </a>
                            <ul class="dropdown-menu child-menu" id="nav"
                                style="width: 220px; padding: 0px 3px 0px 10px !important ;">
                                <!-- <li ng-repeat='item in addSectionMenu'>
                                    <a ng-if="item.ref"
                                       ui-sref='{{item.ref}}({referenceValue: null, action: {}, id: null, status: null})'
                                       ui-sref-opts="{ reload: true }">{{item.name | translate}}</a>
                                    <a ng-if="item.url" href="{{item.url}}" target="_blank">{{item.name | translate}}</a>
                                </li> -->
                                <li ng-repeat="item in addSectionMenu">
                                    <a>{{item.title|translate}}<span style="position: absolute; right: -5px;"><i
                                                class="fa fa-caret-right" aria-hidden="true"></i></span>
                                    </a>
                                    <ul>
                                        <li style="width:100%;" ng-repeat="child in item.values">
                                            <a ng-if="child.ref"
                                                ui-sref='{{child.ref}}({referenceValue: null, action: item, id: null, status: null})'
                                                ui-sref-opts="{ reload: true }">{{child.name| translate}}
                                            </a>
                                            <a ng-if="child.url" href="{{child.url}}">{{child.nameAdd| translate}}
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>

                        </li>
                        <li class="dropdown" title="User Guide" style="padding-right: 0px; padding-left: 0px">
                            <a ng-href="http://kb.aeon.com.vn/index.php/vi/edocument"
                                target="_blank" class="dropdown-toggle"
                                style="color: #0073bb !important;height:59px !important"
                                href="http://kb.aeon.com.vn/index.php/vi/edocument"><i
                                    class="icon-question"></i></a>
                        </li>
                        <li class="dropdown" title="Change log" style="padding-right: 0px; padding-left: 0px">
                            <a href="/Shared%20Documents/change_log.txt" target="_blank" class="dropdown-toggle">
                                <img class="img-circle-icon" style="width: 23px"
                                    src="ClientApp/assets/images/logIcon.png">
                            </a>
                        </li>
                        <li class="dropdown" title="Language"
                            style="padding-right: 0px; padding-left: 0px; padding-top:3px;" ng-click="switchLang()">
                            <a class="dropdown-toggle">
                                {{getLang() == "en_US"? 'VN':'ENG'}}
                            </a>
                        </li>
                        <!--<li class="dropdown" style="padding-right: 0px; padding-left: 0px">
        <a  ng-click="openNotificationPanel();" data-toggle="dropdown" class="dropdown-toggle ng-binding">
            <i class="icon-bell" style="font-size: 20px !important;top:4px"></i>
            <span class="badge badge-danger ng-binding ng-scope" style="color:white !important;top:11px;" ng-if="totalTask > 0">{{totalTask}}</span>
        </a>
    </li>-->
                    </ul>
                    <a style="display: none;" class="page-quick-sidebar-toggler" ng-click="closeNotificationPanel();"><i
                            class="icon-login"></i></a>
                </div>
                <notification></notification>
            </div>
        </div>
        <div class="app-logo ng-scope">
            <a ui-sref=".dashboard" ng-click="gotoDashboard()"><img alt="" class="img-responsive"
                    src="ClientApp/assets/images/logo.png"></a>
        </div>
        <nav class="navbar navbar-default nav-sidebar-style2 ng-scope">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown brand-dropdown" excutejq>
                            <a class="dropdown-toggle navbar-brand" data-toggle="dropdown" role="button"
                                aria-haspopup="true" aria-expanded="true">
                                <i class="fa fa-align-left"></i> {{title|translate}}
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu child-menu">
                                <li ng-repeat="menu in menus" ng-click="selectedItem(menu)"><a
                                        ui-sref="{{menu.url}}">{{menu.name|translate}}</a></li>
                            </ul>
                        </li>
                        <li ng-repeat="item in childMenus" class="dropdown" excutejq>
                            <a ui-sref="{{item.url}}" ng-click='selectedItem(item)' class="dropdown-toggle"
                                data-toggle="dropdown" role="button" aria-haspopup="true"
                                aria-expanded="true">{{item.name | translate}}
                                <span class="caret" ng-if="item.actions"></span>
                            </a>
                            <ul class="dropdown-menu child-menu" ng-if="item.actions" id="nav_child">
                                <li ng-repeat='action in item.actions' ng-click='changeToChildView()' ng-if="width >= 1200">
                                    <!-- <a ui-sref='{{action.state}}({action: action})'>{{action.title}}</a> -->
                                    <a ui-sref='{{action.state}}({action: action})'>{{action.name | translate}}
                                        <span style="position: absolute; right: -5px;" ng-if="action.children"><i
                                                class="fa fa-caret-right"></i></span>
                                    </a>
                                    <ul ng-if="action.children" style="width: 210px;"
                                        ng-class="{'custom-menu': action.name === 'Shift Plan'}">
                                        <li style="width:100%;" ng-repeat="child in action.children">
                                            <a ng-if="child.state" ui-sref='{{child.state}}'
                                                ui-sref-opts="{ reload: true }">{{child.name| translate}}
                                            </a>
                                            <a ng-if="child.url" href="{{child.url}}">{{child.name| translate}}
                                            </a>
                                        </li>
                                    </ul>

                                </li>
                                <li ng-repeat='action in item.actions' ng-if="width < 1200">
                                    <a ui-sref="{{action.state}}" aria-expanded="true">
                                        {{action.name | translate}}
                                        <span class="caret" ng-if="action.children"></span>
                                    </a>
                                    <ul style="padding-left: 40px;" ng-if="action.children">
                                      <li ng-repeat='child in action.children' ng-click='changeToChildView()'>
                                          <a ui-sref='{{child.state}}'>{{child.name | translate}}
                                          </a>
                                       </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</div>
<div class="page-container">
    <div class="page-content-wrapper">
        <div class="page-content">
            <div ng-if='isParentMenu'>
                <sub-menu-section ng-repeat="item in subMenuSection" title-section="item.title"
                    list-menu="item.sections">
                </sub-menu-section>
                <!-- <button class="btn btn-default btn-sm" ng-click="getTasks()">Get Tasks</button> -->
            </div>
            <div id="loading"></div>
            <ui-view class="fade-in-up" ng-keydown="keyDown($event)"></ui-view>
        </div>
    </div>
</div>
<div id="dialogDelete" kendo-dialog="dialogDelete" k-visible="false">
    <div class="note note-danger note-bordered" style="margin-bottom: 0px">
        <p>{{content}}
        <p>
    </div>
    <!-- <a kendo-button class="btn btn-default confirm-btn k-button" ></a> -->

    <kendo-button class="btn btn-default btn-sm confirm-btn" type="button" ng-click="confirm($event)">
        <i class="fa fa-check right-5 font-green-jungle text-success"></i> {{actionName}}
    </kendo-button>
</div>
<div id="dialogYN" kendo-dialog="dialogYN" k-visible="false">
    <div class="note note-danger note-bordered" style="margin-bottom: 0px">
        <p>{{contentYN}}
        <p>
    </div>
    <!-- <a kendo-button class="btn btn-sm confirm-btn k-button" ng-click="confirmYN(0)"><i
            class="fa fa-minus-circle font-red right-5 text-success"></i>No</a> -->

    <kendo-button class="btn btn-default btn-sm confirm-btn" type="button" ng-click="confirmYN(0)">
        <i class="fa fa-minus-circle right-5 font-red-jungle text-success"></i> No
    </kendo-button>
    <!-- <a kendo-button class="btn btn-sm confirm-btn k-button" style="margin-right: .4em;" ng-click="confirmYN(1)"><i
            class="fa fa-check right-5 text-success"></i>Yes</a> -->
    <kendo-button class="btn btn-default btn-sm confirm-btn" type="button" ng-click="confirmYN(1)">
        <i class="fa fa-check right-5 font-green-jungle text-success"></i> Yes
    </kendo-button>
</div>
<div id="dialogTimeOutId" kendo-dialog="dialogTimeOut" k-visible="false">
    <div class="note note-danger note-bordered" style="margin-bottom: 0px">
        <p>
            {{'TIME_OUT_MESSAGE_BEFORE'| translate}}<span
                style='font-size: 24; font-style: initial; font-weight: bold; color: #0073bb;'>{{timeOut}} </span>
            {{'TIME_OUT_MESSAGE_END'| translate}}
        </p>
    </div>
    <!-- <a kendo-button class="btn btn-sm confirm-btn k-button" ng-click="confirmYN(0)"><i
            class="fa fa-minus-circle font-red right-5 text-success"></i>No</a> -->

    <kendo-button class="btn btn-default btn-sm confirm-btn" type="button" ng-click="confirmTimeOut(0)">
        <i class="fa fa-minus-circle right-5 font-red-jungle text-success"></i> {{'COMMON_NO'|translate}}
    </kendo-button>
    <!-- <a kendo-button class="btn btn-sm confirm-btn k-button" style="margin-right: .4em;" ng-click="confirmYN(1)"><i
            class="fa fa-check right-5 text-success"></i>Yes</a> -->
    <kendo-button class="btn btn-default btn-sm confirm-btn" type="button" ng-click="confirmTimeOut(1)">
        <i class="fa fa-check right-5 font-green-jungle text-success"></i> {{'COMMON_BUTTON_CONTINUE'|translate}}
    </kendo-button>
</div>
<div id="dialogReason" kendo-dialog="dialogReason" class="pd0" k-visible="false">
    <div class="modal-body">
        <div class="row reset-mp">
            <div class="col-md-12">
                <div class="form-horizontal">
                    <div class="form-group reset-mp">
                        <div class="col-md-2"><label class="control-label">Comment: <span
                                    class="font-red-thunderbird">*</span></label></div>
                        <div class="col-md-10"><textarea class="w100 form-control" ng-model="reasonObject.comment"
                                rows="4"
                                style="overflow: hidden; overflow-wrap: break-word; resize: horizontal;"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row reset-mp">
            <div class="col-md-12">
                <button class="btn btn-default btn-sm" ng-disabled="!reasonObject.comment.length"
                    ng-click="modalInfo.btnAction()"><i class="{{modalInfo.iconClass}}"></i>
                    {{modalInfo.btnName}}</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).on("click", function (event) {
        // if (event.target.classList.length) {
        //     if (event.target.classList.contains('add-menu')) {
        //         $('#nav').css("display", "grid");
        //     }
        // }
        if ($("#nav").is(":visible") == true) {
            $('#nav').css("display", "grid");
        }
        var $trigger = $(".dropdown");
        if ($trigger !== event.target && !$trigger.has(event.target).length) {
            $(".child-menu").slideUp("fast");
        }
    });
    $('.k-button').addClass('fas fa-icon');
</script>