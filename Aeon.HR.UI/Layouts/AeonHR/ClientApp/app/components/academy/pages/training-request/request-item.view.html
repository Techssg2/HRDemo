<style>
  .actions .btn-default {
    border: none;
  }
  .visible {
    display: none;
  }
  #loading > .k-loading-mask > .k-loading-image {
    position: fixed;
  }
</style>
<div class="row">
  <div class="col-md-12">
    <div class="portlet bordered light">
      <div class="portlet-title">
        <div class="caption caption-md">
          <span class="caption-subject uppercase"
            >{{formMode == "New" ? title : (titleEdit + referenceNumber + " ("+
            realStatus + ")")}}
          </span>
        </div>
        <ng-include src="'training-request/header-actions.partial.html'" />
      </div>
      <div class="row ng-scope">
        <div class="col-sm-12">
          <academy-workflow-comment
            workflow-instances="workflowInstances"
          ></academy-workflow-comment>
        </div>
      </div>
      <div ng-include src="'common/error-summary.partial.html'"></div>

      <div class="row">
        <div class="col-md-12">
          <form name="g1Form">
            <div
              ng-include
              src="'training-request/requester.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/training-details.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/training-duration.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/participant-information.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/purpose-reason.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/training-sponsorship-contract.partial.html'"
            ></div>
            <div
              ng-include
              src="'training-request/budget-information.partial.html'"
            ></div>
          </form>
        </div>
      </div>
      <div class="portlet-title">
        <ng-include src="'training-request/header-actions.partial.html'" />
      </div>
    </div>
  </div>
</div>
<academy-processing-stage
  workflow-instances="workflowInstances"
></academy-processing-stage>

<div
  id="commentWindow"
  kendo-dialog="commentWindow"
  k-on-open="dialogVisible = true"
  style="height: 100% !important"
  k-on-close="dialogVisible = false"
  k-modal="true"
  k-visible="false"
  k-title="'Warning'"
>
  <div
    class="note note-danger note-bordered"
    style="margin-bottom: 0px"
    ng-if="!commentModel.isValid"
  >
    <span class="font-red-thunderbird">{{commentModel.errorMessage}}</span>
  </div>
  <div class="form-group">
    <label class="control-label">{{'COMMON_COMMENT'|translate}}</label>
    <textarea
      name="workflowComment"
      class="k-textbox comment-text input-default form-control"
      placeholder=""
      style="width: 100%"
      rows="6"
      ng-model="comment"
    ></textarea>
  </div>
</div>
<div
  id="attachmentViewDialog"
  k-modal="true"
  k-visible="false"
  class="ng-scope"
  ng-class="{visible:!isViewOnline}"
  style="height: 100% !important"
>
  <iframe
    id="attachment_owa"
    style="width: 100%; height: 97%; padding: 0px !important"
    allowfullscreen
  ></iframe>
  <button
    class="btn btn-default btn-sm k-button pull-right close-owa-dialog"
    ng-click="owaClose()"
  >
    <i class="k-icon k-i-close font-green-jungle"></i> Close
  </button>
</div>
