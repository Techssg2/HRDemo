<style>
    textarea {
        line-height: 1.65em;
    }

    .k-dialog {
        position: fixed;
        top: calc(25%) !important;
    }

    #userGridReview .k-auto-scrollable {
        max-height: 300px;
        min-height: 0px;
    }

    #userGrid .k-auto-scrollable {
        max-height: 300px;
        min-height: 0px;
    }

    .k-loading-mask {
        z-index: 3;
        /* must be larger than the z-index:2 of #container */
    }

    #userGrid .k-loading-image {
        background-image: none !important;
    }

    #userGrid .k-loading-color {
        opacity: 0;
    }

    .k-grid-content {
        min-height: 0px !important;
        max-height: 500px !important;
    }

    .k-grid-content-locked {
        overflow: hidden !important;
        min-height:50px!important;
    }

    tr.separate td {
        border-bottom: 1px solid #dedbdb !important;
    }

    .table-cell {
        border: 1px solid #dedbdb !important;
    }
</style>
<div id="loading"></div>
<div class="row">
    <div class="col-md-12">
        <div class="portlet bordered light">
            <div class="portlet-title">
                <div class="caption caption-md tabbable-line">
                    <span class="caption-subject uppercase" ng-if="!checkTitleEdit">{{title}}</span>
                </div>
                <div class="actions">
                    <kendo-button class="btn btn-default btn-sm" ng-click="printForm()"
                                  ng-if="mode=='Edit' && model.status == 'Completed' && model.type == 2">
                        <i style="font-size: 12px; padding-right: 3px;" class="fa fa-file-pdf-o font-green-jungle"></i>
                        {{'COMMON_BUTTON_PRINT'|translate}}
                    </kendo-button>
                    <kendo-button ng-click="import()" class="btn btn-default btn-sm" ng-show="type== 'Manager' &&  (!model.status || model.status == 'Draft')">
                        <i class="fa fa-table font-blue right-5"></i>
                        {{'COMMON_BUTTON_IMPORT'|translate}}
                    </kendo-button>
                    <kendo-button ng-click="importActual()" class="btn btn-default btn-sm" ng-show="type== 'Manager' &&  (model && model.status == 'Waiting for Fill Actual Hour' && allowToVote)">
                        <i class="fa fa-table font-blue right-5"></i>
                        {{'COMMON_BUTTON_IMPORT'|translate}}
                    </kendo-button>
                    <action-items model="model" id="actionItems" save="saveOvertimeRequirsion" form="form" preSave="checkPublicHoliday"></action-items>
                    <div add-class class="btn-group" current-class="btn-group" added-class="open">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                aria-expanded="true" style="padding: 0px !important">
                            <img src="ClientApp/assets/images/icon/more.png" style="position: relative;top: -2px"
                                 class="ng-isolate-scope">
                        </button>
                        <ul class="dropdown-menu pull-right">
                            <li>
                                <a data-toggle="modal" class="ng-binding" ng-click="showProcessingStages()">
                                    <i class="fa fa-recycle right-5" style="color: #b42e83"></i>
                                    {{'COMMON_PROCESSING_STAGE' | translate}}
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
            <div class="portlet-body">
                <div class="page-content-wrapper float-none">
                    <div>

                        <div style="width: 100%;" kendo-tab-strip k-options="stripOptions" id="tabstrip">
                            <ul>
                                <li class="k-state-active" ng-click="changTab('Employee', 'tab1', 'tab2')" id="tab1"
                                    ng-show="!disableEmployee">{{'OVERTIME_TIMECLOCK_TAB1' | translate}}</li>
                                <li ng-click="changTab('Manager', 'tab2', 'tab1')" id="tab2" ng-show="!disableManager">
                                    {{'OVERTIME_TIMECLOCK_TAB2' | translate}}
                                </li>
                            </ul>
                            <!-- tab 1 -->
                            <div style="padding: 1em;width: 99.5%;">
                                <div class="form-horizontal">
                                    <div class="form-body">
                                        <div class="row ng-scope" style="padding: 15px 0;margin-bottom:15px">
                                            <div class="col-sm-12">
                                                <workflow-comment></workflow-comment>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row ng-scope" ng-if="dateOfOT.length > 0"
                                                     style="padding: 15px 0;margin-bottom:15px">
                                                    <div class="col-sm-12">
                                                        <div class="note note-warning note-bordered"
                                                             style="margin-bottom: 0px">
                                                            <h5 class="bold uppercase">
                                                                {{'COMMON_WARNING'|translate}}:
                                                            </h5>
                                                            <p></p>
                                                            <ul>
                                                                {{warning}}
                                                            </ul>
                                                            <p></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="row ng-scope" ng-if="errors.length > 0"
                                                     style="padding: 15px 0;margin-bottom:15px">
                                                    <div class="col-sm-12">
                                                        <div class="note note-danger note-bordered"
                                                             style="margin-bottom: 0px">
                                                            <h5 class="bold uppercase">
                                                                {{'COMMON_ENTER_FIELD' | translate}}
                                                                <span class="font-red-thunderbird">*</span>:
                                                            </h5>
                                                            <p></p>
                                                            <ul>
                                                                <li ng-repeat="error in errors"
                                                                    style="margin-left: 1em;">
                                                                    <span class="bold">{{error.controlName}}</span>
                                                                    <zt ng-if="!error.isRule">
                                                                        : {{error.errorDetail}}
                                                                    </zt>
                                                                    <span ng-if="error.isRule">
                                                                        {{error.errorDetail}}
                                                                    </span>
                                                                </li>
                                                            </ul>
                                                            <p></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="row">
                                                    <div class="col-md-12 ">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label">
                                                                {{'COMMON_SAP_CODE'|translate}}:
                                                            </label>
                                                            <div class="col-md-8 ">
                                                                <input type="text" class="form-control input-sm"
                                                                       ng-model="model.userSAPCode" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12 ">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label">
                                                                {{'COMMON_FULL_NAME'|translate}}:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <input type="text" class="form-control input-sm"
                                                                       ng-model="model.createdByFullName" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="row">
                                                    <div class="col-md-12 ">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label">
                                                                {{'COMMON_DEPT_LINE'|translate}}:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <input type="text" class="form-control input-sm"
                                                                       ng-model="model.deptName" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label">
                                                                {{'COMMON_DIVISION_GROUP'|translate}}:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <input type="text" class="form-control input-sm"
                                                                       ng-model="model.divisionName" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label">
                                                                {{'COMMON_WORK_LOCATION'|translate}}:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <input type="text" class="form-control input-sm"
                                                                       ng-model="model.workLocationName" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12 mt-2 ">
                                                <div class="table-responsive-lg">
                                                    <table class="table" style="min-width:900px">
                                                        <thead class="bg-table-head">
                                                            <tr class="tr-uppercase">
                                                                <th width="12%">
                                                                    {{'OVERTIME_APPLICATION_DATE_OF_OT'|translate}}
                                                                </th>
                                                                <th width="19%">
                                                                    {{'OVERTIME_APPLICATION_REASON_OF_OT'|translate}}
                                                                </th>
                                                                <th width="15%">{{'COMMON_OTHER_REASON'|translate}}</th>
                                                                <th width="6%">
                                                                    {{'OVERTIME_APPLICATION_OT_PROPOSAL_HOURS'|translate}}
                                                                </th>
                                                                <th width="8%">
                                                                    {{'OVERTIME_APPLICATION_OT_PROPOSAL_FROM'|translate}}
                                                                </th>
                                                                <th width="8%">
                                                                    {{'OVERTIME_APPLICATION_OT_PROPOSAL_TO'|translate}}
                                                                </th>
                                                                <th width="6%">
                                                                    {{'OVERTIME_APPLICATION_OT_ACTUAL_HOURS'|translate}}
                                                                </th>
                                                                <th width="8%">
                                                                    {{'OVERTIME_APPLICATION_OT_ACTUAL_FROM'|translate}}
                                                                </th>
                                                                <th width="8%">
                                                                    {{'OVERTIME_APPLICATION_OT_ACTUAL_TO'|translate}}
                                                                </th>
                                                                <th width="5%">
                                                                    {{'OVERTIME_APPLICATION_DATE_OFF_IN_LIEU'|translate}}
                                                                </th>
                                                                <th>
                                                                    {{'OVERTIME_APPLICATION_NOT_OT'|translate}}
                                                                </th>
                                                                <th width="5%">{{'COMMON_ACTION'|translate}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="item in form.overtimeList"
                                                                ng-class="{'highlight': item.actualOTHour && ((item.actualOTHour != item.OTProposalHour) || (item.fromActual!= item.from || item.toActual!= item.to))}">
                                                                <td>
                                                                    <input kendo-date-picker k-date-input="true"
                                                                           k-format="'dd/MM/yyyy'" ng-model="item.dateOfOT"
                                                                           k-on-change="changeOTDate(item,$index)"
                                                                           style="width: 100%;" />
                                                                </td>
                                                                <td>
                                                                    <select kendo-drop-down-list
                                                                            k-options="reasonOfOTListOptions"
                                                                            id="reasonDropdown" ng-model="item.reasonOfOT"
                                                                            k-on-change="changeReason(item)"
                                                                            style="min-width: 100%;"></select>
                                                                </td>
                                                                <td>
                                                                    <textarea oninput="auto_grow(this)" rows="1"
                                                                              ng-class="applyClassTextbox(item)"
                                                                              ng-model="item.detailReasonOfOT"
                                                                              ng-readonly="!readReason"
                                                                              style="width: 100%; "></textarea>
                                                                </td>
                                                                <td>
                                                                    <input type="text" class="k-textbox readonly"
                                                                           style="width: 100%;" readonly="readonly"
                                                                           name="OTProposalHour{{$index}}"
                                                                           ng-model="item.OTProposalHour" />
                                                                </td>
                                                                <td>
                                                                    <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                           k-interval="30"
                                                                           ng-change="caculatePOTHour({{$index}})"
                                                                           k-date-input="true" ng-model="item.from"
                                                                           style="width: 100%;" />
                                                                </td>
                                                                <td>
                                                                    <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                           k-date-input="true"
                                                                           ng-change="caculatePOTHour({{$index}})"
                                                                           k-interval="30" ng-model="item.to"
                                                                           style="width: 100%;" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" class="k-textbox readonly"
                                                                           style="width: 100%;" readonly="readonly"
                                                                           name="actualOTHour{{$index}}"
                                                                           ng-model="item.actualOTHour" />
                                                                </td>
                                                                <td>
                                                                    <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                           k-interval="{{TimeInRound}}"
                                                                           ng-change="caculateOTHour({{$index}})"
                                                                           readonly="readonly" k-date-input="true"
                                                                           ng-model="item.fromActual"
                                                                           style="width: 100%;" 
                                                                           ng-disabled="item.isNoOT || model.id.length == 0 || model.status == 'Draft'" />
                                                                </td>
                                                                <td>
                                                                    <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                           k-interval="{{TimeOutRound}}"
                                                                           ng-change="caculateOTHour({{$index}})"
                                                                           readonly="readonly" k-date-input="true"
                                                                           ng-model="item.toActual" style="width: 100%;" ng-disabled="item.isNoOT || model.id.length == 0 || model.status == 'Draft'" />
                                                                </td>
                                                                <td>
                                                                    <input type="checkbox" ng-model="item.dayOffInLieu"
                                                                           name="dayOffInLieu{{$index}}"
                                                                           id="dayOffInLieu{{$index}}"
                                                                           class="k-checkbox"
                                                                           style="width: 100%;" ng-disabled="item.isNoOT" />
                                                                    <label class="k-checkbox-label cbox"
                                                                           for="dayOffInLieu{{$index}}"></label>
                                                                </td>
                                                                <td>
                                                                    <input type="checkbox" ng-model="item.isNoOT"
                                                                           name="actualOT{{$index}}"
                                                                           id="actualOT{{$index}}"
                                                                           class="k-checkbox input-default noOTCB"
                                                                           style="width: 100%;"
                                                                           ng-change="isCheckNoOT();"
                                                                           disabled="disabled" />
                                                                    <label class="k-checkbox-label cbox"
                                                                           for="actualOT{{$index}}"></label>
                                                                </td>
                                                                <td>
                                                                    <a ng-click="removeSubItem(form.overtimeList,$index)"
                                                                       ng-if="!statusCompleted"
                                                                       class='btn btn-sm default red-stripe'>{{'COMMON_BUTTON_DELETE'|translate}}</a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="row mrb10">
                                                    <div class="col-md-12">
                                                        <kendo-button style="background-color: #b42e83; color: white;"
                                                                      ng-if="perm" class="btn btn-default btn-sm pull-right"
                                                                      ng-click="addSubItem(form.overtimeList)">
                                                            {{'COMMON_BUTTON_ADD_MORE'|translate}}
                                                        </kendo-button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- tab 2 -->
                            <div style="padding: 1em;width: 99.5%;">
                                <div class="form-horizontal">
                                    <div class="form-body">
                                        <div class="row ng-scope" style="padding: 15px 0;margin-bottom:15px">
                                            <div class="col-sm-12">
                                                <workflow-comment></workflow-comment>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="row ng-scope" ng-if="dateOfOT.length > 0"
                                                 style="padding: 15px 0;margin-bottom:15px">
                                                <div class="col-sm-12">
                                                    <div class="note note-warning note-bordered"
                                                         style="margin-bottom: 0px">
                                                        <h5 class="bold uppercase">{{'COMMON_WARNING'|translate}}:</h5>
                                                        <p></p>
                                                        <ul>
                                                            {{warning}}
                                                        </ul>
                                                        <p></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="row ng-scope" ng-if="errors.length > 0"
                                                 style="padding: 15px 0;margin-bottom:15px">
                                                <div class="col-sm-12">
                                                    <div class="note note-danger note-bordered"
                                                         style="margin-bottom: 0px">
                                                        <h5 class="bold uppercase">
                                                            {{'COMMON_ENTER_FIELD' | translate}}
                                                            <span class="font-red-thunderbird">*</span>:
                                                        </h5>
                                                        <p></p>
                                                        <ul>
                                                            <li ng-repeat="error in errors" style="margin-left: 1em;">
                                                                <span class="bold">{{error.controlName}}</span>
                                                                <zt ng-if="!error.isRule">: {{error.errorDetail}}</zt>
                                                                <span ng-if="error.isRule">
                                                                    {{error.errorDetail}}
                                                                </span>
                                                            </li>
                                                        </ul>
                                                        <p></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- row 1 -->
                                        <div class="row align-middle">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">{{'SHIFT_EXCHANGE_APPLICATION_APPLY_DATE'|translate}}:</label>
                                                    <div class="col-md-8 ">
                                                        <input class="w100" kendo-date-picker k-date-input="true"
                                                               k-format="'dd/MM/yyyy'" name="applyDate" id="apply-date"
                                                               k-ng-model="model.applyDate" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">{{'COMMON_DEPT_LINE'|translate}}:</label>
                                                    <div class="col-md-8 ">
                                                        <input readonly class="k-input w100" type="text"
                                                               ng-model="model.deptName" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">{{'COMMON_DIVISION_GROUP'|translate}}:</label>
                                                    <div class="col-md-8 ">
                                                        <input kendo-drop-down-tree="deptDivision" class="w100"
                                                               k-on-change="onChangeDivision(model.divisionId)"
                                                               k-options="divisionOptions" k-ng-model="model.divisionId"
                                                               id="deptDivision" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- row 2 -->
                                        <div class="row align-middle">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">
                                                        {{'OVERTIME_APPLICATION_REASON_OF_OT'|translate}}<span class="font-red-thunderbird">*</span>
                                                    </label>
                                                    <div class="col-md-8 ">
                                                        <select kendo-drop-down-list k-options="reasonOfOTListOptions"
                                                                id="reasonDropdownManager" ng-model="model.reasonCode"
                                                                k-on-change="changeReason(model)"
                                                                style="width: 100%;"></select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">
                                                        {{'OVERTIME_APPLICATION_CONTENT_OF_OT'|translate}}<span class="font-red-thunderbird">*</span>
                                                    </label>
                                                    <div class="col-md-8 ">
                                                        <textarea class="form-control"
                                                                  ng-class="applyClassTextbox(model)"
                                                                  ng-model="model.contentOfOtherReason"
                                                                  ng-readonly="!readReason"
                                                                  row="3"
                                                                  style="width: 100%;"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- row 3 -->
                                        <div class="row mrb10">
                                            <div class="col-md-12">
                                                <kendo-button style="background-color: #b42e83; color: white;"
                                                              ng-if="perm" class="btn btn-default btn-sm pull-right"
                                                              ng-click="addItemsUser(employeesDataSource)">
                                                    {{'ADD_USER_TITLE_DIALOG'| translate}}
                                                </kendo-button>
                                            </div>
                                        </div>
                                        <!-- row grid -->
                                        <div class="col-md-12 mt-2 " style="padding-left:0px; padding-right: 0px;">
                                            <div class="table-responsive-lg">
                                                <table class="table" style="min-width:900px">
                                                    <thead class="bg-table-head">
                                                        <tr class="tr-uppercase">
                                                            <th width="150px">{{'COMMON_SAP_CODE'|translate}}</th>
                                                            <th width="200px">{{'COMMON_FULL_NAME'|translate}}</th>
                                                            <th width="130px">
                                                                {{'OVERTIME_APPLICATION_DATE_OF_OT'|translate}}
                                                            </th>
                                                            <th>
                                                                {{'OVERTIME_APPLICATION_OT_PROPOSAL_HOURS'|translate}}
                                                            </th>
                                                            <th>
                                                                {{'OVERTIME_APPLICATION_OT_PROPOSAL_FROM'|translate}}
                                                            </th>
                                                            <th>{{'OVERTIME_APPLICATION_OT_PROPOSAL_TO'|translate}}</th>
                                                            <th>
                                                                {{'OVERTIME_APPLICATION_OT_ACTUAL_HOURS'|translate}}
                                                            </th>
                                                            <th>{{'OVERTIME_APPLICATION_OT_ACTUAL_FROM'|translate}}</th>
                                                            <th>{{'OVERTIME_APPLICATION_OT_ACTUAL_TO'|translate}}</th>
                                                            <th>
                                                                {{'OVERTIME_APPLICATION_DATE_OFF_IN_LIEU'|translate}}
                                                            </th>
                                                            <th>
                                                                {{'OVERTIME_APPLICATION_NOT_OT'|translate}}
                                                            </th>
                                                            <th>{{'COMMON_ACTION'|translate}}</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="item in form.overtimeList"
                                                            ng-class="{'highlight': item.actualOTHour && ((item.actualOTHour != item.OTProposalHour) || (item.fromActual!= item.from || item.toActual!= item.to))}">
                                                            <!-- <td>
                                                                <select kendo-drop-down-list k-options="sapCodeOptions"
                                                                    id="sapCodeDropDown" ng-model="item.userId"
                                                                    k-on-change="changeSapCode(item)"
                                                                    style="width: 100%;"></select>
                                                            </td> -->
                                                            <td>
                                                                <input type="text" class="k-textbox readonly"
                                                                       style="width: 100%;" readonly="readonly"
                                                                       ng-model="item.sapCode" />
                                                            </td>
                                                            <td>
                                                                <input type="text" class="k-textbox readonly"
                                                                       style="width: 100%;" readonly="readonly"
                                                                       ng-model="item.fullName" />
                                                            </td>
                                                            <td>
                                                                <input kendo-date-picker k-date-input="true"
                                                                       k-format="'dd/MM/yyyy'" ng-model="item.dateOfOT"
                                                                       k-on-change="changeOTDate(item,$index)"
                                                                       style="width: 100%;" />
                                                            </td>
                                                            <td>
                                                                <input type="text" class="k-textbox readonly"
                                                                       style="width: 100%;" readonly="readonly"
                                                                       name="OTProposalHour{{$index}}"
                                                                       ng-model="item.OTProposalHour" />
                                                            </td>
                                                            <td>
                                                                <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                       k-interval="30"
                                                                       ng-change="caculatePOTHour({{$index}})"
                                                                       k-date-input="true" ng-model="item.from"
                                                                       style="width: 100%;" />
                                                            </td>
                                                            <td>
                                                                <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                       k-date-input="true"
                                                                       ng-change="caculatePOTHour({{$index}})"
                                                                       k-interval="30" ng-model="item.to"
                                                                       style="width: 100%;" />
                                                            </td>
                                                            <td>
                                                                <input type="text" class="k-textbox readonly"
                                                                       style="width: 100%;" readonly="readonly"
                                                                       name="actualOTHour{{$index}}"
                                                                       ng-model="item.actualOTHour" />
                                                            </td>
                                                            <td>
                                                                <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                       k-interval="30"
                                                                       ng-change="caculateOTHour({{$index}})"
                                                                       readonly="readonly" k-date-input="true"
                                                                       ng-model="item.fromActual" style="width: 100%;" ng-disabled="item.isNoOT || model.id.length == 0 || model.status == 'Draft'" />
                                                            </td>
                                                            <td>
                                                                <input ng-keydown="keyDownTimePicker($event)" kendo-time-picker k-format="'HH:mm'"
                                                                       k-interval="30"
                                                                       ng-change="caculateOTHour({{$index}})"
                                                                       readonly="readonly" k-date-input="true"
                                                                       ng-model="item.toActual" style="width: 100%;" ng-disabled="item.isNoOT || model.id.length == 0 || model.status == 'Draft'" />

                                                            </td>
                                                            <td>
                                                                <input type="checkbox" ng-model="item.dayOffInLieu"
                                                                       name="dayOffInLieu{{$index}}"
                                                                       id="dayOffInLieu{{$index}}"
                                                                       class="k-checkbox"
                                                                       style="width: 100%;" ng-disabled="item.isNoOT" />
                                                                <label class="k-checkbox-label cbox"
                                                                       for="dayOffInLieu{{$index}}"></label>
                                                            </td>
                                                            <td>
                                                                <input type="checkbox" ng-model="item.isNoOT"
                                                                       name="actualOT{{$index}}"
                                                                       id="actualOT{{$index}}"
                                                                       class="k-checkbox input-default noOTCB"
                                                                       style="width: 100%;"
                                                                       ng-change="isCheckNoOT();"
                                                                       disabled="disabled" />
                                                                <label class="k-checkbox-label cbox"
                                                                       for="actualOT{{$index}}"></label>
                                                            </td>
                                                            <td>
                                                                <a ng-click="removeSubItem(form.overtimeList,$index)"
                                                                   ng-if="!statusCompleted"
                                                                   class='btn btn-sm default red-stripe'>{{'COMMON_BUTTON_DELETE'|translate}}</a>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- <div class="row mrb10">
                                                <div class="col-md-12">
                                                    <kendo-button style="background-color: #b42e83; color: white;"
                                                        class="btn btn-default btn-sm pull-right"
                                                        ng-click="addSubItem(form.overtimeList)">
                                                        {{'COMMON_BUTTON_ADD_MORE'|translate}}
                                                    </kendo-button>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col-md-12">
                                <p><b>{{'COMMON_NOTE'|translate}}: </b><span>*</span></p>
                                <p>
                                    - <b>Ch cn ph duyt khi s gi tng ca thc t khc k hoch tng ca.</b> <br />
                                    <i>Only requires in case actual OT is different from planned OT.</i>
                                </p>
                                <p>
                                    - <b>
                                        Phiu  ngh tng ca phi c k duyt trc khi tng ca v c s ph duyt
                                        ca Gim c cp cao.
                                    </b> <br />
                                    <i>
                                        Overtime request form must be signed and approved before overtime with the
                                        approval of Senior General Manager or appropriate authorization.
                                </p>
                                </i>
                                <p>
                                    - <b>
                                        Khng OT qu 4h/ngy, qu 40h/thng, 200h/nm; Ngy l, ngy ngh ca khng OT
                                        qu 12h/ngy.
                                    </b><br />
                                    <i>
                                        OT hours cant exceed 4h/day, 40h/month, 200h/year; On holidays or Day-off OT
                                        hours cant exceed 12h/day.
                                    </i>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="portlet-title">
                <div class="actions">
                    <kendo-button ng-click="import()" class="btn btn-default btn-sm" ng-show="type== 'Manager' &&  (!model.status || model.status == 'Draft')">
                        <i class="fa fa-table font-blue right-5"></i>
                        {{'COMMON_BUTTON_IMPORT'|translate}}
                    </kendo-button>
                    <kendo-button ng-click="importActual()" class="btn btn-default btn-sm" ng-show="type== 'Manager' &&  (model && model.status == 'Waiting for Fill Actual Hour' && allowToVote)">
                        <i class="fa fa-table font-blue right-5"></i>
                        {{'COMMON_BUTTON_IMPORT'|translate}}
                    </kendo-button>
                    <action-items model="model" save="saveOvertimeRequirsion" form="form" preSave="checkPublicHoliday"></action-items>
                </div>
            </div>
        </div>
    </div>
</div>

<!--begin dialog-->

<div id="dialog_Detail" kendo-dialog="dialogDetailCode" k-on-open="dialogVisible = true"
     style="height: 100% !important;" k-on-close="dialogVisible = false" k-width="890" k-modal="true" k-visible="isShow"
     options="dialogDetailOption">
    <div class="row">
        <label class="col-md-3 control-label"></label>
        <div class="col-md-8 ">
            <div class="input-group" style="width: 400px">
                <input type="text" class="form-control" id='FieldFilter' placeholder="Search for..."
                       style="width: 100%; " ng-keypress="ifEnter($event, 'addUser')" ng-model="gridUser.keyword">
                <span class="input-group-btn">
                    <button class="btn btn-default btn-sm" type="button" ng-click="searchGridUser()" style="border: 1px solid #dadada;
                    margin-bottom: 10px;height: 34px;">
                        <span class="k-icon k-i-search"></span>
                    </button>
                </span>
            </div>
        </div>
    </div>
    <div>
        <div kendo-grid id="userGrid" style="width:850px;" options="userListGridOptions">
        </div>
    </div>

</div>

<!--end dialog-->
<!-- dialog review -->
<div id="dialog_Detail_Review" kendo-dialog="dialogDetailCodeReview" k-on-open="dialogVisible = true"
     style="height: 100% !important;" k-on-close="closeReviewDialog(false)" k-width="950" k-modal="true"
     k-visible="false" options="dialogDetailReviewOption">

    <!-- row 1 -->
    <div class="row">
        <!-- <label class="col-md-5"></label> -->
        <div class="col-md-12" style="padding-right: 30px;">
            <div class="input-group" style="width: 433px; float: right;">
                <input type="text" class="form-control" id='FieldFilter' placeholder="Search for..."
                       style="width: 100%; " ng-keypress="ifEnter($event, 'review')" ng-model="gridUserReview.keyword">
                <span class="input-group-btn">
                    <button class="btn btn-default btn-sm" type="button" ng-click="searchGridUserReview()" style="border: 1px solid #dadada;
                    margin-bottom: 10px;height: 34px;">
                        <span class="k-icon k-i-search"></span>
                    </button>
                </span>
            </div>
        </div>
    </div>

    <!-- row 2 -->
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="col-md-5 control-label">{{'OVERTIME_APPLICATION_DATE_OF_OT' | translate}}:</label>
                <div class="col-md-7 ">
                    <input class="w100" kendo-date-picker k-date-input="true" k-format="'dd/MM/yyyy'" name="applyDate"
                           k-ng-model="userOTReview.dateOfOT" />
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label class="col-md-6 control-label">{{'OVERTIME_APPLICATION_PROPOSAL_FROM_REQUIRED' | translate}}:</label>
                <div class="col-md-6 ">
                    <input kendo-time-picker k-format="'HH:mm'" k-interval="30" k-date-input="true"
                           ng-model="userOTReview.from" style="width: 100%;" />
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="col-md-6 control-label">{{'OVERTIME_APPLICATION_PROPOSAL_TO_REQUIRED' | translate}}:</label>
                <div class="col-md-6 ">
                    <input kendo-time-picker k-format="'HH:mm'" k-interval="30" k-date-input="true"
                           ng-model="userOTReview.to" style="width: 100%;" />
                </div>
            </div>
        </div>
    </div>

    <div class="row mrb10">
        <div class="col-md-12">
        </div>
    </div>

    <div>
        <div kendo-grid id="userGridReview" style="width:920px;" options="userListGridReviewOptions">
        </div>
    </div>

</div>
<!-- end diaglog review -->

<processing-stage workflow-instances="workflowInstances"></processing-stage>



<!-- dialog Import -->
<div kendo-dialog="importDialog" options="importDialogOpts" k-on-open="dialogVisible = true"
     k-on-close="closeImportDialog()" id="dialog_import">
    <div class="row form-group">
        <div class="col-md-12 form-group">
            <a href="ClientApp/assets/templates/OvertimeTemplate.xlsx" target="_self" download>
                <i class="fa fa-download"></i> {{'COMMON_DOWNLOAD_TEMPLATE'|translate}}
            </a>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <any ng-click="onClickSelectFile()">
                    <input name="files" id="attachmentDetail" class="input-default attachmentDetail" accept=".xls,.xlsx" type="file"
                           kendo-upload k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }"
                           k-select="onSelect" k-remove="removeAttach" />
                </any>
            </div>
        </div>

    </div>
    <div class="row form-group">
        <div class="col-md-12" style="text-align:right">
            <button ng-click="sendData()" class="btn btn-sm btn-primary"
                    style="background:#b42e83">
                {{'COMMON_BUTTON_OK'|translate}}
            </button>
        </div>
    </div>
</div>
<!--End dialog Import -->
<!-- dialog Import actual -->
<div kendo-dialog="importActualDialog" options="importDialogOpts" k-on-open="dialogVisible = true"
     k-on-close="closeImportActualDialog()" id="dialog_import_actual">
    <div class="row form-group">
        <div class="col-md-12 form-group">
            <a ng-click="exportOT()">
                <i class="fa fa-download"></i> {{'COMMON_DOWNLOAD_TEMPLATE'|translate}}
            </a>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <any ng-click="onClickSelectFile()">
                    <input name="files" id="attachmentActualDetail" class="input-default attachmentActualDetail" accept=".xls,.xlsx" type="file"
                           kendo-upload k-async="{ saveUrl: 'save', removeUrl: 'remove', autoUpload: false }" k-multiple="false"
                           k-select="onActualSelect" k-remove="removeActualAttach" />
                </any>
            </div>
        </div>

    </div>
    <div class="row form-group">
        <div class="col-md-12" style="text-align:right">
            <button ng-click="sendActualData()" class="btn btn-sm btn-primary"
                    style="background:#b42e83">
                {{'COMMON_BUTTON_OK'|translate}}
            </button>
        </div>
    </div>
</div>
<!--End dialog Import -->
